(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(3538)}])},3538:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return f}});var a=r(7568),n=r(1799),t=r(9396),i=r(4051),l=r.n(i),d=r(5893),o=r(1664),c=r.n(o),m=r(7294),u=r(3299),x=r(7536),p=r(8333),h=r(2920),b=(r(993),r(1163));function f(){var e=(0,m.useState)(!1),s=e[0],r=e[1],i=(0,u.useSession)().data,o=(0,b.useRouter)(),f=o.query.redirect;(0,m.useEffect)((function(){(null===i||void 0===i?void 0:i.user)&&o.push(f||"/")}),[o,i,f]);var v=(0,x.cI)(),g=v.handleSubmit,w=v.register,j=v.formState.errors,N=function(){var e=(0,a.Z)(l().mark((function e(s){var a,n,t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.email,n=s.password,r(!0),e.prev=2,e.next=5,(0,u.signIn)("credentials",{redirect:!1,email:a,password:n});case 5:(t=e.sent).error&&(r(!1),h.Am.error(t.error)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),r(!1),h.Am.error((i=e.t0).response&&i.response.data&&i.response.data.message?i.response.data.message:i.message);case 13:case"end":return e.stop()}var i}),e,null,[[2,9]])})));return function(s){return e.apply(this,arguments)}}();return(0,d.jsx)(m.Fragment,{children:(0,d.jsx)(p.Z,{title:"Login",children:(0,d.jsx)(m.Fragment,{children:(0,d.jsx)("form",{onSubmit:g(N),children:(0,d.jsx)("section",{className:"bg-[#F4F7FF] py-20 lg:py-[120px]",children:(0,d.jsx)("div",{className:"container mx-auto",children:(0,d.jsx)("div",{className:"-mx-4 flex flex-wrap",children:(0,d.jsx)("div",{className:"w-full px-4",children:(0,d.jsxs)("div",{className:"relative mx-auto max-w-[525px] overflow-hidden rounded-lg bg-white py-16 px-10 text-center sm:px-12 md:px-[60px]",children:[(0,d.jsx)("div",{className:"mb-10 text-center md:mb-16",children:(0,d.jsxs)("a",{className:"flex items-center tracking-wide no-underline hover:no-underline font-bold text-green-900 text-xl mx-auto inline-block max-w-[160px]",href:"#",children:[(0,d.jsx)("img",{src:"https://img.icons8.com/ios-filled/50/null/chicken.png",width:30}),"Riere Farm"]})}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("input",(0,t.Z)((0,n.Z)({type:"email",name:"email"},w("email",{required:"Please enter email",pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$/i,message:"Please enter valid email"}})),{placeholder:"Email",id:"email",className:"bordder-[#E9EDF4] w-full rounded-md border bg-[#FCFDFE] py-3 px-5 text-base text-body-color placeholder-[#ACB6BE] outline-none focus:border-primary focus-visible:shadow-none",autoFocus:!0})),j.email&&(0,d.jsx)("div",{className:"text-red-500",children:j.email.message})]}),(0,d.jsxs)("div",{className:"mb-6",children:[(0,d.jsx)("input",(0,t.Z)((0,n.Z)({type:"password",name:"password"},w("password",{required:"Please enter password",minLength:{value:6,message:"password is more than 5 chars"}})),{placeholder:"Password",className:"bordder-[#E9EDF4] w-full rounded-md border bg-[#FCFDFE] py-3 px-5 text-base text-body-color placeholder-[#ACB6BE] outline-none focus:border-primary focus-visible:shadow-none"})),j.password&&(0,d.jsx)("div",{className:"text-red-500 ",children:j.password.message})]}),(0,d.jsx)("div",{className:"mb-10",children:s?(0,d.jsx)("button",{className:"primary-button text-lg",type:"submit",disabled:!0,children:(0,d.jsx)("b",{children:"processing..."})}):(0,d.jsx)("button",{className:"primary-button text-lg",type:"submit",children:(0,d.jsx)("b",{children:"Login"})})}),(0,d.jsxs)("p",{className:"text-base text-[#adadad]",children:["Don't have an account? \xa0",(0,d.jsx)(c(),{href:"/register?redirect=".concat(f||"/"),children:"Register"})]})]})})})})})})})})})}}},function(e){e.O(0,[238,126,108,333,774,888,179],(function(){return s=6429,e(e.s=s);var s}));var s=e.O();_N_E=s}]);