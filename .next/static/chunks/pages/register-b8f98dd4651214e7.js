(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(72)}])},72:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return b}});var a=r(7568),n=r(1799),t=r(9396),l=r(4051),i=r.n(l),o=r(5893),d=r(1664),c=r.n(d),m=r(7294),u=r(7536),x=r(8333),p=r(2920),h=(r(993),r(1163));function b(){var e=(0,m.useState)(!1),s=e[0],r=e[1],l=(0,h.useRouter)(),d=(0,u.cI)(),b=d.handleSubmit,f=d.register,w=d.formState.errors,g=function(){var e=(0,a.Z)(i().mark((function e(s){var a,n,t,o,d,c,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.name,n=s.email,t=s.password,o=s.cpassword,r(!0),t===o){e.next=6;break}p.Am.error("confirm password must be same with password"),r(!1),e.next=35;break;case 6:if(a&&n&&t&&o){e.next=10;break}p.Am.error("Please fill all the field above"),r(!1),e.next=35;break;case 10:return e.prev=10,e.next=13,fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,email:n,password:t})});case 13:if(201!==(d=e.sent).status){e.next=24;break}return e.next=17,d.json();case 17:c=e.sent,localStorage.clear(),localStorage.setItem("user",JSON.stringify(c)),p.Am.success("User registered successfully"),l.push("/"),e.next=29;break;case 24:return r(!1),e.next=27,d.json();case 27:m=e.sent.message,p.Am.error(m);case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(10),r(!1),p.Am.error(e.t0);case 35:case"end":return e.stop()}}),e,null,[[10,31]])})));return function(s){return e.apply(this,arguments)}}();return(0,o.jsx)(m.Fragment,{children:(0,o.jsx)(x.Z,{title:"Register",children:(0,o.jsx)(m.Fragment,{children:(0,o.jsx)("form",{onSubmit:b(g),children:(0,o.jsx)("section",{className:"bg-[#F4F7FF] py-20 lg:py-[120px]",children:(0,o.jsx)("div",{className:"container mx-auto",children:(0,o.jsx)("div",{className:"-mx-4 flex flex-wrap",children:(0,o.jsx)("div",{className:"w-full px-4",children:(0,o.jsxs)("div",{className:"relative mx-auto max-w-[525px] overflow-hidden rounded-lg bg-white py-16 px-10 text-center sm:px-12 md:px-[60px]",children:[(0,o.jsx)("div",{className:"mb-10 text-center md:mb-16",children:(0,o.jsxs)("a",{className:"flex items-center tracking-wide no-underline hover:no-underline font-bold text-green-900 text-xl mx-auto inline-block max-w-[160px]",href:"#",children:[(0,o.jsx)("img",{src:"https://img.icons8.com/ios-filled/50/null/chicken.png",width:30}),(0,o.jsx)("b",{children:" Riere Farm"})]})}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("input",(0,t.Z)((0,n.Z)({type:"text",name:"name"},f("name",{required:"Please enter username",maxLength:{value:10,message:"username should not be more than 10 letters"}})),{placeholder:"user name",id:"name",className:"bordder-[#E9EDF4] w-full rounded-md border bg-[#FCFDFE] py-3 px-5 text-base text-body-color placeholder-[#ACB6BE] outline-none focus:border-primary focus-visible:shadow-none",autoFocus:!0})),w.name&&(0,o.jsx)("div",{className:"text-red-500",children:w.name.message})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("input",(0,t.Z)((0,n.Z)({type:"email",name:"email"},f("email",{required:"Please enter email",pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$/i,message:"Please enter valid email"}})),{placeholder:"Email",id:"email",className:"bordder-[#E9EDF4] w-full rounded-md border bg-[#FCFDFE] py-3 px-5 text-base text-body-color placeholder-[#ACB6BE] outline-none focus:border-primary focus-visible:shadow-none",autoFocus:!0})),w.email&&(0,o.jsx)("div",{className:"text-red-500",children:w.email.message})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("input",(0,t.Z)((0,n.Z)({type:"password",name:"password"},f("password",{required:"Please enter password",minLength:{value:6,message:"password is more than 5 chars"}})),{placeholder:"Password",className:"bordder-[#E9EDF4] w-full rounded-md border bg-[#FCFDFE] py-3 px-5 text-base text-body-color placeholder-[#ACB6BE] outline-none focus:border-primary focus-visible:shadow-none"})),w.password&&(0,o.jsx)("div",{className:"text-red-500 ",children:w.password.message})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("input",(0,t.Z)((0,n.Z)({type:"password",name:"cpassword"},f("cpassword",{required:"Please confirm password"})),{placeholder:"confirm password",className:"bordder-[#E9EDF4] w-full rounded-md border bg-[#FCFDFE] py-3 px-5 text-base text-body-color placeholder-[#ACB6BE] outline-none focus:border-primary focus-visible:shadow-none"})),w.cpassword&&(0,o.jsx)("div",{className:"text-red-500 ",children:w.cpassword.message})]}),(0,o.jsx)("div",{className:"mb-10",children:s?(0,o.jsx)("button",{className:"primary-button text-lg",type:"submit",disabled:!0,children:(0,o.jsx)("b",{children:"processing..."})}):(0,o.jsx)("button",{className:"primary-button text-lg",type:"submit",children:(0,o.jsx)("b",{children:"Register"})})}),(0,o.jsxs)("p",{className:"text-base text-[#adadad]",children:["Already a member - \xa0",(0,o.jsx)(c(),{href:"/login",children:"Login"})]})]})})})})})})})})})}}},function(e){e.O(0,[238,126,108,333,774,888,179],(function(){return s=5511,e(e.s=s);var s}));var s=e.O();_N_E=s}]);