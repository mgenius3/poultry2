(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(4984)}])},4984:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return b}});var n=r(7568),a=r(1799),t=r(9396),i=r(4051),l=r.n(i),o=r(5893),c=r(1664),d=r.n(c),m=r(7294),u=r(7536),x=r(8333),p=r(2920),h=(r(993),r(1163));function b(){var e=(0,m.useState)(!1),s=e[0],r=e[1],i=(0,h.useRouter)(),c=(0,u.cI)(),b=c.handleSubmit,f=c.register,g=c.formState.errors,w=function(){var e=(0,n.Z)(l().mark((function e(s){var n,a,t,o,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.email,a=s.password,r(!0),e.prev=2,e.next=5,fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:a})});case 5:if(200!=(t=e.sent).status){e.next=16;break}return e.next=9,t.json();case 9:o=e.sent,sessionStorage.clear(),sessionStorage.setItem("user",JSON.stringify(o)),p.Am.success("login successful"),i.push("/"),e.next=21;break;case 16:return r(!1),e.next=19,t.json();case 19:c=e.sent,p.Am.error(c.message);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),r(!1),p.Am.error(e.t0);case 27:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(s){return e.apply(this,arguments)}}();return(0,o.jsx)(m.Fragment,{children:(0,o.jsx)(x.Z,{title:"Login",children:(0,o.jsx)(m.Fragment,{children:(0,o.jsx)("form",{onSubmit:b(w),children:(0,o.jsx)("section",{className:"bg-[#F4F7FF] py-20 lg:py-[120px]",children:(0,o.jsx)("div",{className:"container mx-auto",children:(0,o.jsx)("div",{className:"-mx-4 flex flex-wrap",children:(0,o.jsx)("div",{className:"w-full px-4",children:(0,o.jsxs)("div",{className:"relative mx-auto max-w-[525px] overflow-hidden rounded-lg bg-white py-16 px-10 text-center sm:px-12 md:px-[60px]",children:[(0,o.jsx)("div",{className:"mb-10 text-center md:mb-16",children:(0,o.jsxs)("a",{className:"flex items-center tracking-wide no-underline hover:no-underline font-bold text-green-900 text-xl mx-auto inline-block max-w-[160px]",href:"#",children:[(0,o.jsx)("img",{src:"https://img.icons8.com/ios-filled/50/null/chicken.png",width:30}),"Riere Farm"]})}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("input",(0,t.Z)((0,a.Z)({type:"email",name:"email"},f("email",{required:"Please enter email",pattern:{value:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$/i,message:"Please enter valid email"}})),{placeholder:"Email",id:"email",className:"bordder-[#E9EDF4] w-full rounded-md border bg-[#FCFDFE] py-3 px-5 text-base text-body-color placeholder-[#ACB6BE] outline-none focus:border-primary focus-visible:shadow-none",autoFocus:!0})),g.email&&(0,o.jsx)("div",{className:"text-red-500",children:g.email.message})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("input",(0,t.Z)((0,a.Z)({type:"password",name:"password"},f("password",{required:"Please enter password",minLength:{value:6,message:"password is more than 5 chars"}})),{placeholder:"Password",className:"bordder-[#E9EDF4] w-full rounded-md border bg-[#FCFDFE] py-3 px-5 text-base text-body-color placeholder-[#ACB6BE] outline-none focus:border-primary focus-visible:shadow-none"})),g.password&&(0,o.jsx)("div",{className:"text-red-500 ",children:g.password.message})]}),(0,o.jsx)("div",{className:"mb-10",children:s?(0,o.jsx)("button",{className:"primary-button text-lg",type:"submit",disabled:!0,children:(0,o.jsx)("b",{children:"processing..."})}):(0,o.jsx)("button",{className:"primary-button text-lg",type:"submit",children:(0,o.jsx)("b",{children:"Login"})})}),(0,o.jsxs)("p",{className:"text-base text-[#adadad]",children:["Don't have an account? \xa0",(0,o.jsx)(d(),{href:"/register",children:"Register"})]})]})})})})})})})})})}}},function(e){e.O(0,[238,126,108,333,774,888,179],(function(){return s=6429,e(e.s=s);var s}));var s=e.O();_N_E=s}]);